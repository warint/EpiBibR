theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(colour="red", size =1, show.legend = FALSE) +
geom_line(colour="red", size= 1)+
theme(legend.position = "none") +
facet_wrap(~ variable, ncol = 2) +
theme_hc()+
scale_fill_uchicago()+
scale_color_uchicago()
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value)) +
ggplot(test, aes(Year, value)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
library(tidyverse)
test <- rbind(Immunology,Genetics)
test <- rbind(test,Humans)
test <- rbind(test,Virology)
ggplot(test, aes(Year, value)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value)) +
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
test <- rbind(Immunology,Genetics)
test <- rbind(test,Humans)
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 3) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 1) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(test, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
p1 <- rbind(test,Virology)
ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
test <- rbind(Immunology,Genetics,Humans)
p1 <- rbind(Immunology,Genetics,Humans,Virology)
p1 <- rbind(Immunology,Genetics,Humans,Virology)
p2 <- rbind(Metabolism,Epidemiology,Animals,Isolation)
p3 <- rbin(Male,Female,Purification,Veterinary)
p3 <- rbind(Male,Female,Purification,Veterinary)
p1 <- rbind(Immunology,Genetics,Humans,Virology)
p2 <- rbind(Metabolism,Epidemiology,Animals,Isolation)
p3 <- rbind(Male,Female,Purification,Veterinary)
p4 <- rbind(Pathology,Diagnosis,Control)
ggplot(p2, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(p3, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(p4, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
knitr::opts_chunk$set(echo = TRUE)
ggplot(p2, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago(palette = "light")+
scale_fill_uchicago(palette = "light")+
theme_hc()
ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(p2, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago(palette = "light")+
scale_fill_uchicago(palette = "light")+
theme_hc()
ggplot(p3, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago(palette = "dark")+
scale_fill_uchicago(palette = "dark")+
theme_hc()
aa <- ggplot(p2, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
#scale_color_uchicago(palette = "light")+
#scale_fill_uchicago(palette = "light")+
theme_hc()
aa + scale_color_uchicago()
cc <-plot_grid(p1, p2, p3, p4,  label_size = 5)
cc + scale_color_uchicago()
cc
cc <-plot_grid(p1, p2, p3, p4,  label_size = 5)
p1<- ggplot(Immunology, aes(Year, value, fill = variable, colour=variable)) +
geom_point(colour="blue", size =1, show.legend = FALSE) +
geom_line(colour="blue", size= 1)+
theme(legend.position = "none")+
ggtitle("Immunology")+
theme(plot.title = element_text(hjust = 0.5))+
theme_hc()+
scale_color_uchicago()
p2<- ggplot(Genetics, aes(Year, value, fill = variable, colour=variable)) +
geom_point(colour="green", size =1, show.legend = FALSE) +
geom_line(colour="green", size= 1)+
theme(legend.position = "none") +
ggtitle("Genetics")+
theme(plot.title = element_text(hjust = 0.5))+
theme_hc()+
scale_color_uchicago()
p3<- ggplot(Humans, aes(Year, value, fill = variable, colour=variable)) +
geom_point(colour="orange", size =1, show.legend = FALSE) +
geom_line(colour="orange", size= 1)+
theme(legend.position = "none") +
ggtitle("Humans")+
theme(plot.title = element_text(hjust = 0.5))+
theme_hc()+
scale_color_uchicago()
p4<- ggplot(Virology, aes(Year, value, fill = variable, colour=variable)) +
geom_point(colour="red", size =1, show.legend = FALSE) +
geom_line(colour="red", size= 1)+
theme(legend.position = "none") +
ggtitle("Virology")+
theme(plot.title = element_text(hjust = 0.5))+
theme_hc()+
scale_color_uchicago()
cc <-plot_grid(p1, p2, p3, p4,  label_size = 5)
cc
cc + scale_color_uchicago()
cc + scale_fill_uchicago()
cc <-plot_grid(p1, p2, p3, p4,  label_size = 5)
cc
cc + scale_fill_uchicago()
aaa<-ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
aaa<-ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
p1 <- rbind(Immunology,Genetics,Humans,Virology)
p2 <- rbind(Metabolism,Epidemiology,Animals,Isolation)
p3 <- rbind(Male,Female,Purification,Veterinary)
p4 <- rbind(Pathology,Diagnosis,Control)
aaa<-ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
bbb <-ggplot(p2, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ccc<-ggplot(p3, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ddd<- ggplot(p4, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
library(cowplot)
cc <-plot_grid(aaa, bbb,ccc, ddd,  label_size = 5)
plot_grid(aaa, bbb,ccc, ddd,  label_size = 5)
aaa<-ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(p1, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
aaa<-ggplot(Immunology, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
theme(legend.position = "none")+
#scale_color_uchicago()+
#scale_fill_uchicago()+
theme_hc()
bbb <-ggplot(Genetics, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
#scale_color_uchicago()+
#scale_fill_uchicago()+
theme_hc()
aaa
bbb
plot_grid(aaa, bbb,  label_size = 5)
cc + scale_fill_uchicago()
cc <-plot_grid(aaa, bbb,  label_size = 5)
cc + scale_fill_uchicago()
ggplot(p3, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_lancet()+
scale_fill_lancet()
theme_hc()
ggplot(p4, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago(a)+
scale_fill_uchicago()+
theme_hc()
ggplot(p4, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago(a)+
scale_fill_uchicago()+
theme_hc()
ggplot(p4, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(p3, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_lancet()+
scale_fill_lancet()
theme_hc()
ggplot(p4, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_uchicago()+
scale_fill_uchicago()+
theme_hc()
ggplot(p3, aes(Year, value, fill = variable, colour=variable)) +
geom_point(aes(fill = variable, colour=variable), size =1,show.legend = FALSE) +
geom_line(aes(fill = variable, colour=variable), size= 1, show.legend = FALSE)+
facet_wrap(~ variable, ncol = 2) +
theme(legend.position = "none")+
scale_color_lancet()+
scale_fill_lancet()+
theme_hc()
devtools::check_win_release()
# Downloading the data
library(EpiBibR)
library(bibliometrix)
MM<-EpiBib_references()
# Only fo 2020
M<-EpiBib_year(2020)
# Summary results + plots
results <- biblioAnalysis(MM, sep = ";")
S <- summary(object = results, k = 10, pause = FALSE)
setwd("~/EpiBibR1")
# Most Productive Authors
library(bibliometrix)
library(reshape2)
library(ggplot2)
library(ggsci)
library(tidyverse)
library(plyr)
library(ggthemes)
library(cowplot)
df <- plyr::ldply(S, data.frame)
df <- subset(df, .id == "MostProdAuthors", select = c(Articles, Authors.......))
df <- df %>% dplyr::rename(Authors = Authors.......)
df$Articles <- as.numeric(df$Articles)
df$Authors <-as.factor(df$Authors)
p1 <- ggplot(df, aes(x = reorder(Authors, Articles), y = Articles, fill = Articles)) +
geom_bar(stat="identity") +
coord_flip() +
labs(x = "Authors") +
theme_hc()
rm(df)
# Most Productive Countries
df <- plyr::ldply(S, data.frame)
df <- subset(df, .id == "MostProdCountries", select = c(Articles, Country))
df$Articles <- as.numeric(df$Articles)
df$Country <-as.factor(df$Country)
p2 <- ggplot(df, aes(x = reorder(Country, Articles), y = Articles, fill = Articles)) +
geom_bar(stat="identity") +
coord_flip() +
labs(x = "Countries") +
theme_hc()
rm(df)
# Count of articles per year
df <- plyr::ldply(S, data.frame)
df <- subset(df, .id == "AnnualProduction", select = c(Year..., Articles))
df <- df %>% dplyr::rename(Year = Year...)
df$Year <- as.numeric(as.character(df$Year))
df$Articles <- as.numeric(df$Articles)
p3 <- ggplot(df, aes(x = Year, y = Articles, colour = cond)) +
geom_line(colour = "#0072B2") +
geom_point(colour = "#0072B2") +
labs( x = "") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
scale_x_continuous(breaks = seq(1950,2020, 5)) +
theme_hc()
rm(df)
ggsave(
".man/figures/figure1.png",
ggdraw() +
draw_plot(p3, 0, .5, 1, .5) +
draw_plot(p1, 0, 0, .5, .5) +
draw_plot(p2, .5, 0, .5, .5) +
draw_plot_label(c("A", "B", "C"), c(0, 0, 0.5), c(1, 0.5, 0.5), size = 15)
,
dpi = 1200
)
ggsave(
"./man/figures/figure1.png",
ggdraw() +
draw_plot(p3, 0, .5, 1, .5) +
draw_plot(p1, 0, 0, .5, .5) +
draw_plot(p2, .5, 0, .5, .5) +
draw_plot_label(c("A", "B", "C"), c(0, 0, 0.5), c(1, 0.5, 0.5), size = 15)
,
dpi = 1200
)
url <- paste0("https://warin.ca/ressources/data/epiBib/EpiBib.Rdata")
path <- file.path(tempdir(), "temp.Rdata")
curl::curl_download(url, path)
#reading the data
rData <- file.path(paste0(tempdir(), "/temp.Rdata"))
load(rData)
EpiBib_references <- function() {
EpiBib_data
}
knitr::opts_chunk$set(echo = TRUE)
aa <-EpiBib_references()
EpiBib_author <- function(author) {
if (missing(author)) {
EpiBib_data
} else {
EpiBib_data[grep(author,  EpiBib_data$AU, ignore.case = TRUE), ]
}
}
Yang <- EpiBib_author("yang")
View(Yang)
EpiBib_country <- function(country) {
if (missing(country)) {
EpiBib_data
} else {
EpiBib_data[grep(country, EpiBib_data$AU_CO, ignore.case = TRUE), ]
}
}
bb <- EpiBib_country("Canada")
bb <- EpiBib_country( country = c("Canada","China")
View(bb)
View(bb)
EpiBib_title <- function(title) {
if (missing(title)) {
EpiBib_data
} else {
EpiBib_data[grep(title, EpiBib_data$TI, ignore.case = TRUE), ]
}
}
cc <- EpiBib_title("Heart")
View(cc)
EpiBib_year <- function(year) {
if (missing(year)) {
EpiBib_data
} else {
EpiBib_data[grep(year, EpiBib_data$PY, ignore.case = TRUE), ]
}
}
df <- EpiBib_year("2017")
df <- EpiBib_year( year = "2017")
EpiBib_source <- function(source) {
if (missing(source)) {
EpiBib_data
} else {
EpiBib_data[grep(source, EpiBib_data$SO, ignore.case = TRUE), ]
}
}
df <- EpiBib_source("bio")
EpiBib_AU_YE <- function(author = NULL, year = NULL) {
if (is.null(author) & is.null(year)) {
EpiBib_data
} else if (is.null(author)) {
EpiBib_data[grep(year, EpiBib_data$PY, ignore.case = TRUE), ]
} else if (is.null(year)) {
EpiBib_data[grep(author, EpiBib_data$AU, ignore.case = TRUE), ]
} else {
with(EpiBib_data, EpiBib_data[grepl(author, AU, ignore.case = TRUE) & grepl(year, PY, ignore.case = TRUE), ])
}
}
df <- EpiBib_AU_YE(author = "yang", year = 2005)
View(df)
